{% extends 'base.html' %} 
{% load static %}
{% block content %}
<span id="sub-title" >Validação de Regex</span>
<link rel="stylesheet" href="{% static 'css/regex/regex-page.css'%}" />
<form method="post" action="{% url 'regex_page' %}" id="regexForm" action="" method="post" class="regex-form">
    {% csrf_token %} 
    <table>
        <tbody>
            <tr>
                <td id="left_slash" class="slash">
                    <span class="slash">/</span>
                </td>
                
                <td>
                    <table>
                        <tbody>
                            <tr>  <!-- TEXTO DO INPUT DO REGEX -->
                                <td>
                                    <label id="regex_label" for="regex">Sua expressão regular:</label>
                                </td>
                                <td id="invalid_regex">&nbsp;
                                </td>
                            </tr> 
                            <tr><!-- INPUT DO REGEX -->
                                <td colspan="2">
                                    {{regexform.regularexpression}}
                                </td>
                            </tr>
                            <tr><!-- TEXTO DO INPUT DA STRING DE TESTE -->
                                <td colspan="2">
                                    <label id="test_string_label" for="test_string">String de teste 1:</label>
                                </td>
                            </tr>
                            <tr><!-- INPUT DA STRING DE TESTE -->
                                <td colspan="2">
                                    {{regexform.teststring}}
                                </td>
                            </tr>

                            <tr><!-- TEXTO DO INPUT DA STRING DE TESTE -->
                                <td colspan="2">
                                    <label id="test_string_label" for="test_string">String de teste 2:</label>
                                </td>
                            </tr>
                            <tr><!-- INPUT DA STRING DE TESTE -->
                                <td colspan="2">
                                    {{regexform.teststring2}}
                                </td>
                            </tr>

                            <tr>
                                <td colspan="2"> <!-- BOTAO DE VALIDAR -->
                                    <div id="test_button_div">
                                        <button id="test_button" type="submit" class="btn">Teste</button>
                                    </div>
                                    {% if invalid_regex %}
                                        <!-- <p style="color: red;">INVALID REGEX SENTENCE: {{error_message}}</p> -->
                                        <script>
                                            var test_string_input = document.getElementById('regex');
                                            test_string_input.style.color = 'red';
                                            test_string_input.style.borderColor = 'red';
                                        </script>
                                    {% elif string_validation %}
                                       <!--  <p style="color: green;">VALID</p>-->
                                        <script>
                                            var test_string_input = document.getElementById('test_string');
                                            test_string_input.style.color = 'green';
                                            test_string_input.style.borderColor = 'green';
                                        </script>
                                    {% elif string_validation == False %}
                                        <!--<p style="color: red;">INVALID</p>-->
                                        <script>
                                            var test_string_input = document.getElementById('test_string');
                                            test_string_input.style.color = 'red';
                                            test_string_input.style.borderColor = 'red';
                                        </script>
                                    {% endif %}
                                        
                                    
                                </td>
                            </tr>


                            <tr> <!-- LINK PARA CHEATSHEET DE REGEX-->
                                <td>
                                    <a href="https://cheatography.com/davechild/cheat-sheets/regular-expressions/" target="_blank">
                                        <p class="cheatsheet-link">Regex Cheatsheet</p>
                                    </a>
                                </td>
                                
                            </tr>
                            
                        </tbody>
                    </table>
                </td>

                <td id="right_slash" class="slash">
                    <span class="slash">/</span>
                </td>
            </tr>
        </tbody>

    </table>
</form>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{% static 'js/regularexpressions/regex.js' %}" type="text/javascript"></script>
{% endblock %}

